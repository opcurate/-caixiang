#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import sxtwl

Gan = ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"]
Zhi = ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"]
# 获取相主信息
day = sxtwl.fromSolar(2001,10,9)

# 获取用户输入
input_year = input("请输入年份属相: ")
input_hour = input("请输入时辰属相: ")

# 完整的宫位神分表格
extra_results = {
    # 鼠年数据
    ("鼠", "鼠"): ["鼠牛 10", "鼠虎 20", "鼠兔 15", "鼠龙 -10"],
    ("鼠", "牛"): ["牛兔 -20", "牛龙 30", "牛蛇 10", "牛马 -20"],
    ("鼠", "虎"): ["虎蛇 0", "虎马 30", "虎羊 15", "虎猴 -40"],
    ("鼠", "兔"): ["兔羊 10", "兔猴 -10", "兔鸡 -30", "兔狗 10"],
    ("鼠", "龙"): ["龙鸡 50", "龙狗 5", "龙猪 10", "龙鼠 -10"],
    ("鼠", "蛇"): ["蛇猪 -30", "蛇鼠 10", "蛇牛 10", "蛇虎 0"],
    ("鼠", "马"): ["马牛 -20", "马虎 30", "马兔 15", "马龙 0"],
    ("鼠", "羊"): ["羊兔 10", "羊龙 5", "羊蛇 20", "羊马 50"],
    ("鼠", "猴"): ["猴蛇 10", "猴马 -15", "猴羊 10", "猴猴 15"],
    ("鼠", "鸡"): ["鸡羊 0", "鸡猴 25", "鸡鸡 25", "鸡狗 0"],
    ("鼠", "狗"): ["狗鸡 0", "狗狗 15", "狗猪 15", "狗鼠 -20"],
    ("鼠", "猪"): ["猪猪 0", "猪鼠 5", "猪牛 0", "猪虎 30"],
    # 牛年数据
    ("牛", "鼠"): ["鼠鼠 15", "鼠牛 10", "鼠虎 20", "鼠兔 15"],
    ("牛", "牛"): ["牛虎 -10", "牛兔 -20", "牛龙 30", "牛蛇 10"],
    ("牛", "虎"): ["虎龙 -20", "虎蛇 0", "虎马 30", "虎羊 15"],
    ("牛", "兔"): ["兔马 15", "兔羊 10", "兔猴 -10", "兔鸡 -30"],
    ("牛", "龙"): ["龙猴 30", "龙鸡 50", "龙狗 5", "龙猪 10"],
    ("牛", "蛇"): ["蛇狗 10", "蛇猪 -30", "蛇鼠 10", "蛇牛 10"],
    ("牛", "马"): ["马鼠 -20", "马牛 -20", "马虎 30", "马兔 15"],
    ("牛", "羊"): ["羊虎 15", "羊兔 10", "羊龙 5", "羊蛇 20"],
    ("牛", "猴"): ["猴龙 30", "猴蛇 10", "猴马 -15", "猴羊 10"],
    ("牛", "鸡"): ["鸡马-10", "鸡羊 0", "鸡猴 25", "鸡鸡 25"],
    ("牛", "狗"): ["狗猴 20", "狗鸡 0", "狗狗 15", "狗猪 15"],
    ("牛", "猪"): ["猪狗 15", "猪猪 0", "猪鼠 5", "猪牛 0"],
    # 虎年数据
    ("虎", "鼠"): ["鼠猪 5", "鼠鼠 15", "鼠牛 10", "鼠虎 20"],
    ("虎", "牛"): ["牛牛 15", "牛虎 -10", "牛兔 -20", "牛龙 30"],
    ("虎", "虎"): ["虎兔 25", "虎龙 -20", "虎蛇 0", "虎马 30"],
    ("虎", "兔"): ["兔蛇 25", "兔马 15", "兔羊 10", "兔猴 -10"],
    ("虎", "龙"): ["龙羊 5", "龙猴 30", "龙鸡 50", "龙狗 5"],
    ("虎", "蛇"): ["蛇鸡 -10", "蛇狗 10", "蛇猪 -30", "蛇鼠 10"],
    ("虎", "马"): ["马猪 -10", "马鼠 -20", "马牛 -20", "马虎 30"],
    ("虎", "羊"): ["羊牛 -25", "羊虎 15", "羊兔 10", "羊龙 5"],
    ("虎", "猴"): ["猴兔 -10", "猴龙 30", "猴蛇 10", "猴马 -15"],
    ("虎", "鸡"): ["鸡蛇 -10", "鸡马 -10", "鸡羊 0", "鸡猴 25"],
    ("虎", "狗"): ["狗羊 -10", "狗猴 20", "狗鸡 0", "狗狗 15"],
    ("虎", "猪"): ["猪鸡 20", "猪狗 15", "猪猪 0", "猪鼠 5"],
    # 兔年数据
    ("兔", "鼠"): ["鼠狗 -20", "鼠猪 5", "鼠鼠 15", "鼠牛 10"],
    ("兔", "牛"): ["牛鼠 10", "牛牛 15", "牛虎 -10", "牛兔 -20"],
    ("兔", "虎"): ["虎龙 -20", "虎兔 25", "虎龙 -20", "虎蛇 0"],
    ("兔", "兔"): ["兔龙 -40", "兔蛇 25", "兔马 15", "兔羊 10"],
    ("兔", "龙"): ["龙马 0", "龙羊 5", "龙猴 30", "龙鸡 50"],
    ("兔", "蛇"): ["蛇猴 10", "蛇鸡 -10", "蛇狗 10", "蛇猪 -30"],
    ("兔", "马"): ["马狗 10", "马猪 -10", "马鼠 -20", "马牛 -20"],
    ("兔", "羊"): ["羊鼠 -20", "羊牛 -25", "羊虎 15", "羊兔 10"],
    ("兔", "猴"): ["猴虎 -40", "猴兔 -10", "猴龙 30", "猴蛇 10"],
    ("兔", "鸡"): ["鸡龙 50", "鸡蛇 -10", "鸡马-10", "鸡羊 0"],
    ("兔", "狗"): ["狗马 10", "狗羊 -10", "狗猴 20", "狗鸡 0"],
    ("兔", "猪"): ["猪猴 0", "猪鸡 20", "猪狗 15", "猪猪 0"],
    # 龙年数据
    ("龙", "鼠"): ["鼠鸡 15", "鼠狗 -20", "鼠猪 5", "鼠鼠 15"],
    ("龙", "牛"): ["牛猪 0", "牛鼠 10", "牛牛 15", "牛虎 -10"],
    ("龙", "虎"): ["虎牛 -10", "虎龙 -20", "虎兔 25", "虎龙 -20"],
    ("龙", "兔"): ["兔兔 15", "兔龙 -40", "兔蛇 25", "兔马 15"],
    ("龙", "龙"): ["龙蛇 10", "龙马 0", "龙羊 5", "龙猴 30"],
    ("龙", "蛇"): ["蛇羊 20", "蛇猴 10", "蛇鸡 -10", "蛇狗 10"],
    ("龙", "马"): ["马鸡 -10", "马狗 10", "马猪 -10", "马鼠 -20"],
    ("龙", "羊"): ["羊猪 -10", "羊鼠 -20", "羊牛 -25", "羊虎 15"],
    ("龙", "猴"): ["猴牛 30", "猴虎 -40", "猴兔 -10", "猴龙 30"],
    ("龙", "鸡"): ["鸡兔 -30", "鸡龙 50", "鸡蛇 -10", "鸡马-10"],
    ("龙", "狗"): ["狗蛇 10", "狗马 10", "狗羊 -10", "狗猴 20"],
    ("龙", "猪"): ["猪羊 -10", "猪猴 0", "猪鸡 20", "猪狗 15"],
    # 蛇年数据
    ("蛇", "鼠"): ["鼠猴 10", "鼠鸡 15", "鼠狗 -20", "鼠猪 5"],
    ("蛇", "牛"): ["牛狗 10", "牛猪 0", "牛鼠 10", "牛牛 15"],
    ("蛇", "虎"): ["虎鼠 20", "虎牛 -10", "虎龙 -20", "虎兔 25"],
    ("蛇", "兔"): ["兔虎 25", "兔兔 15", "兔龙 -40", "兔蛇 25"],
    ("蛇", "龙"): ["龙龙 45", "龙蛇 10", "龙马 0", "龙羊 5"],
    ("蛇", "蛇"): ["蛇马 25", "蛇羊 20", "蛇猴 10", "蛇鸡 -10"],
    ("蛇", "马"): ["马猴 -15", "马鸡 -10", "马狗 10", "马猪 -10"],
    ("蛇", "羊"): ["羊狗 -10", "羊猪 -10", "羊鼠 -20", "羊牛 -25"],
    ("蛇", "猴"): ["猴鼠 10", "猴牛 30", "猴虎 -40", "猴兔 -10"],
    ("蛇", "鸡"): ["鸡虎 -10", "鸡兔 -30", "鸡龙 50", "鸡蛇 -10"],
    ("蛇", "狗"): ["狗龙 5", "狗蛇 10", "狗马 10", "狗羊 -10"],
    ("蛇", "猪"): ["猪马 -10", "猪羊 -10", "猪猴 0", "猪鸡 20"],
    # 马年数据
    ("马", "鼠"): ["鼠羊 -20", "鼠猴 10", "鼠鸡 15", "鼠狗 -20"],
    ("马", "牛"): ["牛鸡 30", "牛狗 10", "牛猪 0", "牛鼠 10"],
    ("马", "虎"): ["虎猪 30", "虎鼠 20", "虎牛 -10", "虎龙 -20"],
    ("马", "兔"): ["兔牛 -20", "兔虎 25", "兔兔 15", "兔龙 -40"],
    ("马", "龙"): ["龙兔 -40", "龙龙 45", "龙蛇 10", "龙马 0"],
    ("马", "蛇"): ["蛇蛇 30", "蛇马 25", "蛇羊 20", "蛇猴 10"],
    ("马", "马"): ["马羊 50", "马猴 -15", "马鸡 -10", "马狗 10"],
    ("马", "羊"): ["羊鸡 0", "羊狗 -10", "羊猪 -10", "羊鼠 -20"],
    ("马", "猴"): ["猴猪 0", "猴鼠 10", "猴牛 30", "猴虎 -40"],
    ("马", "鸡"): ["鸡牛 30", "鸡虎 -10", "鸡兔 -30", "鸡龙 50"],
    ("马", "狗"): ["狗兔 10", "狗龙 5", "狗蛇 10", "狗马 10"],
    ("马", "猪"): ["猪蛇-30", "猪马 -10", "猪羊 -10", "猪猴 0"],
    # 羊年数据
    ("羊", "鼠"): ["鼠马 -20", "鼠羊 -20", "鼠猴 10", "鼠鸡 15"],
    ("羊", "牛"): ["牛猴 30", "牛鸡 30", "牛狗 10", "牛猪 0"],
    ("羊", "虎"): ["虎狗 -10", "虎猪 30", "虎鼠 20", "虎牛 -10"],
    ("羊", "兔"): ["兔鼠 15", "兔牛 -20", "兔虎 25", "兔兔 15"],
    ("羊", "龙"): ["龙虎 -20", "龙兔 -40", "龙龙 45", "龙蛇 10"],
    ("羊", "蛇"): ["蛇龙 10", "蛇蛇 30", "蛇马 25", "蛇羊 20"],
    ("羊", "马"): ["马马 0", "马羊 50", "马猴 -15", "马鸡 -10"],
    ("羊", "羊"): ["羊猴 10", "羊鸡 0", "羊狗 -10", "羊猪 -10"],
    ("羊", "猴"): ["猴狗 20", "猴猪 0", "猴鼠 10", "猴牛 30"],
    ("羊", "鸡"): ["鸡鼠 15", "鸡牛 30", "鸡虎 -10", "鸡兔 -30"],
    ("羊", "狗"): ["狗虎 -10", "狗兔 10", "狗龙 5", "狗蛇 10"],
    ("羊", "猪"): ["猪龙 10", "猪蛇-30", "猪马 -10", "猪羊 -10"],
    # 猴年数据
    ("猴", "鼠"): ["鼠蛇 10", "鼠马 -20", "鼠羊 -20", "鼠猴 10"],
    ("猴", "牛"): ["牛羊 -25", "牛猴 30", "牛鸡 30", "牛狗 10"],
    ("猴", "虎"): ["虎鸡 -10", "虎狗 -10", "虎猪 30", "虎鼠 20"],
    ("猴", "兔"): ["兔猪 10", "兔鼠 15", "兔牛 -20", "兔虎 25"],
    ("猴", "龙"): ["龙牛 30", "龙虎 -20", "龙兔 -40", "龙龙 45"],
    ("猴", "蛇"): ["蛇兔 25", "蛇龙 10", "蛇蛇 30", "蛇马 25"],
    ("猴", "马"): ["马蛇 25", "马马 0", "马羊 50", "马猴 -15"],
    ("猴", "羊"): ["羊羊 15", "羊猴 10", "羊鸡 0", "羊狗 -10"],
    ("猴", "猴"): ["猴鸡 25", "猴狗 20", "猴猪 0", "猴鼠 10"],
    ("猴", "鸡"): ["鸡猪 20", "鸡鼠 15", "鸡牛 30", "鸡虎 -10"],
    ("猴", "狗"): ["狗牛 10", "狗虎 -10", "狗兔 10", "狗龙 5"],
    ("猴", "猪"): ["猪兔 10", "猪龙 10", "猪蛇 -30", "猪马 -10"],
    # 鸡年数据
    ("鸡", "鼠"): ["鼠龙 -10", "鼠蛇 10", "鼠马 -20", "鼠羊 -20"],
    ("鸡", "牛"): ["牛马 -20", "牛羊 -25", "牛猴 30", "牛鸡 30"],
    ("鸡", "虎"): ["虎猴 -40", "虎鸡 -10", "虎狗 -10", "虎猪 30"],
    ("鸡", "兔"): ["兔狗 10", "兔猪 10", "兔鼠 15", "兔牛 -20"],
    ("鸡", "龙"): ["龙鼠 -10", "龙牛 30", "龙虎 -20", "龙兔 -40"],
    ("鸡", "蛇"): ["蛇虎 0", "蛇兔 25", "蛇龙 10", "蛇蛇 30"],
    ("鸡", "马"): ["马龙 0", "马蛇 25", "马马 0", "马羊 50"],
    ("鸡", "羊"): ["羊马 50", "羊羊 15", "羊猴 10", "羊鸡 0"],
    ("鸡", "猴"): ["猴猴 15", "猴鸡 25", "猴狗 20", "猴猪 0"],
    ("鸡", "鸡"): ["鸡狗 0", "鸡猪 20", "鸡鼠 15", "鸡牛 30"],
    ("鸡", "狗"): ["狗鼠 -20", "狗牛 10", "狗虎 -10", "狗兔 10"],
    ("鸡", "猪"): ["猪虎 30", "猪兔 10", "猪龙 10", "猪蛇-30"],
    # 狗年数据
    ("狗", "鼠"): ["鼠兔 15", "鼠龙 -10", "鼠蛇 10", "鼠马 -20"],
    ("狗", "牛"): ["牛蛇 10", "牛马 -20", "牛羊 -25", "牛猴 30"],
    ("狗", "虎"): ["虎羊 15", "虎猴 -40", "虎鸡 -10", "虎狗 -10"],
    ("狗", "兔"): ["兔鸡 -30", "兔狗 10", "兔猪 10", "兔鼠 15"],
    ("狗", "龙"): ["龙猪 10", "龙鼠 -10", "龙牛 30", "龙虎 -20"],
    ("狗", "蛇"): ["蛇牛 10", "蛇虎 0", "蛇兔 25", "蛇龙 10"],
    ("狗", "马"): ["马兔 15", "马龙 0", "马蛇 25", "马马 0"],
    ("狗", "羊"): ["羊蛇 20", "羊马 50", "羊羊 15", "羊猴 10"],
    ("狗", "猴"): ["猴羊 10", "猴猴 15", "猴鸡 25", "猴狗 20"],
    ("狗", "鸡"): ["鸡鸡 25", "鸡狗 0", "鸡猪 20", "鸡鼠 15"],
    ("狗", "狗"): ["狗猪 15", "狗鼠 -20", "狗牛 10", "狗虎 -10"],
    ("狗", "猪"): ["猪牛 0", "猪虎 30", "猪兔 10", "猪龙 10"],
    # 猪年数据
    ("猪", "鼠"): ["鼠虎 20", "鼠兔 15", "鼠龙 -10", "鼠蛇 10"],
    ("猪", "牛"): ["牛龙 30", "牛蛇 10", "牛马 -20", "牛羊 -25"],
    ("猪", "虎"): ["虎马 30", "虎羊 15", "虎猴 -40", "虎鸡 -10"],
    ("猪", "兔"): ["兔猴 -10", "兔鸡 -30", "兔狗 10", "兔猪 10"],
    ("猪", "龙"): ["龙狗 5", "龙猪 10", "龙鼠 -10", "龙牛 30"],
    ("猪", "蛇"): ["蛇鼠 10", "蛇牛 10", "蛇虎 0", "蛇兔 25"],
    ("猪", "马"): ["马虎 30", "马兔 15", "马龙 0", "马蛇 25"],
    ("猪", "羊"): ["羊龙 5", "羊蛇 20", "羊马 50", "羊羊 15"],
    ("猪", "猴"): ["猴马 -15", "猴羊 10", "猴猴 15", "猴鸡 25"],
    ("猪", "鸡"): ["鸡猴 25", "鸡鸡 25", "鸡狗 0", "鸡猪 20"],
    ("猪", "狗"): ["狗狗 15", "狗猪 15", "狗鼠 -20", "狗牛 10"],
    ("猪", "猪"): ["猪鼠 5", "猪牛 0", "猪虎 30", "猪兔 10"],
}



# 公历的年月日
s = "公历:%d年%d月%d日" % (day.getSolarYear(), day.getSolarMonth(),
                      day.getSolarDay())
print(s)

#年属
yearshu = day.getYearGZ()
print(Zhi[yearshu.dz])

#月属
mouthshu = day.getMonthGZ()
print(Zhi[mouthshu.dz])

#日属
dayshu = day.getDayGZ()
print(Zhi[dayshu.dz])

#相主年月日转换成数字，year代表数字，mouth代表数字，day代表数字
year = day.getSolarYear()
mouth = day.getSolarMonth()
day = day.getSolarDay()

# 获取第一年采相的年日信息
days = sxtwl.fromSolar(year + 1, mouth, day + 1)
#采相年日转换成数字，year代表数字，mouth代表数字，day代表数字
years = days.getSolarYear()
mouths = days.getSolarMonth()
dayss = days.getSolarDay()

#采相当天转换成汉字当天是什么什么年属月属日属
#年属
yearshus = days.getYearGZ()

#月属
mouthshus = days.getMonthGZ()

#日属
dayshus = days.getDayGZ()

# 保存前一年的采相信息
prev_yearshus = yearshus
prev_dayshus = dayshus

def calculate_scores(animals, extra_score=0):
    # 相五行
    elements = {
        '鼠': '水',
        '牛': '土',
        '虎': '木',
        '兔': '木',
        '龙': '土',
        '蛇': '火',
        '马': '火',
        '羊': '土',
        '猴': '金',
        '鸡': '金',
        '狗': '土',
        '猪': '水'
    }

    # 采相相基分
    pair_scores = {
        '龙龙': -10,
        '龙虎': 10,
        '龙鸡': 35,
        '龙蛇': 10,
        '龙猪': 10,
        '龙兔': -20,
        '龙猴': 25,
        '龙鼠': 25,
        '龙牛': 30,
        '龙羊': 10,
        '龙狗': -5,
        '龙马': 10,
        '虎虎': 10,
        '虎鸡': 10,
        '虎蛇': -20,
        '虎猪': 35,
        '虎兔': 10,
        '虎猴': -10,
        '虎鼠': 10,
        '虎牛': 10,
        '虎羊': 30,
       '虎狗': 25,
        '虎马': 25,
        '鸡鸡': -10,
        '鸡蛇': 25,
        '鸡猪': 10,
        '鸡兔': -5,
        '鸡猴': 10,
        '鸡鼠': 30,
        '鸡牛': 25,
        '鸡羊': 10,
        '鸡狗': -20,
        '鸡马': 10,
        '蛇蛇': 10,
        '蛇猪': -5,
        '蛇兔': 30,
        '蛇猴': 35,
        '蛇鼠': 10,
        '蛇牛': 25,
        '蛇羊': 10,
        '蛇狗': 10,
        '蛇马': 10,
        '猪猪': -10,
        '猪兔': 25,
        '猪猴': -20,
        '猪鼠': 10,
        '猪牛': 10,
        '猪羊': 25,
        '猪狗': 30,
        '猪马': 10,
        '兔兔': 10,
        '兔猴': 10,
        '兔鼠': -10,
        '兔牛': 10,
        '兔羊': 25,
        '兔狗': 35,
        '兔马': -10,
        '猴猴': 10,
        '猴鼠': 25,
        '猴牛': 10,
        '猴羊': 10,
        '猴狗': 10,
        '猴马': 30,
        '鼠鼠': 10,
        '鼠牛': 35,
        '鼠羊': -20,
        '鼠狗': 10,
        '鼠马': -10,
        '牛牛': 10,
        '牛羊': -10,
        '牛狗': -10,
        '牛马': -20,
        '羊羊': 10,
        '羊狗': -10,
        '羊马': 35,
        '狗狗': 10,
        '狗马': 25,
        '马马': -10
    }

    # 五行组合的分数
    element_scores = {
        ('土', '土'): 10,
        ('金', '金'): 10,
        ('水', '水'): 10,
        ('木', '木'): 10,
        ('火', '火'): 10,
        ('土', '金'): 25,
        ('金', '土'): 25,
        ('金', '水'): 25,
        ('水', '金'): 25,
        ('水', '木'): 25,
        ('木', '水'): 25,
        ('木', '火'): 25,
        ('火', '木'): 25,
        ('火', '土'): 25,
        ('土', '火'): 25,
        ('土', '水'): 0,
        ('水', '土'): 0,
        ('金', '木'): 0,
        ('木', '金'): 0,
        ('水', '火'): 0,
        ('火', '水'): 0,
        ('木', '土'): 0,
        ('土', '木'): 0,
        ('火', '金'): 0,
        ('金', '火'): 0,
    }

    total_score = 0
    element_score_total = 0
    results = {}

    # 计算属成相后的分数和相五行的分数
    for i in range(len(animals)):
        for j in range(i + 1, len(animals)):
            # 获取相
            animal_pair = animals[i] + animals[j]
            if animal_pair not in pair_scores:
                animal_pair = animals[j] + animals[i]  # 保证顺序正确
            # 计算相基分数
            pair_score = pair_scores.get(animal_pair, 0)
            total_score += pair_score
            obversion_total_score = total_score * 0.7
            # 计算五行对分数
            element_pair = (elements[animals[i]], elements[animals[j]])
            if element_pair not in element_scores:
                element_pair = (element_pair[1], element_pair[0])  # 保证顺序

            element_score = element_scores.get(element_pair, 0)
            element_score_total += element_score
            obversion_element_score_total = element_score_total * 0.3
            # 计算相基70%与相五行30%分数之和，并加上宫位神分数的70%
            one = obversion_element_score_total + obversion_total_score + (extra_score * 0.7)

    results['基础分'] = total_score
    results['相五行分'] = element_score_total
    results['相基的70%+相五行的30%'] = one

    return results

# 跳过1-18年的输出
years += 17  # 直接跳到第18年

# 初始化前一年的采相信息
prev_yearshus = yearshus
prev_dayshus = dayshus

nian = Zhi[yearshu.dz]
yue = Zhi[prev_yearshus.dz]
ri = Zhi[dayshu.dz]
shi = Zhi[prev_dayshus.dz]

# 示例输入
animals = [nian, yue, ri, shi]
results = calculate_scores(animals)

# 获取下一年采相的信息
days = sxtwl.fromSolar(years, mouths, dayss)

# 提取下一年采相当天的信息，只提取年月日，用汉字来记录
yearshus = days.getYearGZ()
mouthshus = days.getMonthGZ()
dayshus = days.getDayGZ()

# 获取对应的宫位神分
extra_result_list = extra_results.get((input_year, input_hour), ["", "", "", ""])

# 只输出4次结果，每次间隔13年
for i in range(4):  # 循环4次
    # 保存当前采相信息作为下一轮的前一年信息
    current_yearshus = yearshus
    current_dayshus = dayshus
    
    # 输出当前周期结果，使用前一年的采相信息
    print(
        years,
        "-",
        mouths,
        ":",
        Zhi[yearshu.dz],
        Zhi[current_yearshus.dz],
        Zhi[dayshu.dz],
        Zhi[current_dayshus.dz],
        
    )
    
    years += 13
    
    # 获取当前周期的采相信息
    days = sxtwl.fromSolar(years, mouths, dayss)
    
    nian = Zhi[yearshu.dz]
    yue = Zhi[current_yearshus.dz]
    ri = Zhi[dayshu.dz]
    shi = Zhi[current_dayshus.dz]

    # 提取宫位神分中的数字
    extra_text = extra_result_list[i]
    extra_score = 0
    if " " in extra_text:
        try:
            extra_score = int(extra_text.split(" ")[1])
        except (ValueError, IndexError):
            extra_score = 0
    
    # 示例输入，传入宫位神分数
    animals = [nian, yue, ri, shi]
    results = calculate_scores(animals, extra_score)
    
    # 打印汇总结果和宫位神分
    print(f"基础分: {results['基础分']}")
    print(f"相五行分: {results['相五行分']}")
    print(f"宫位神: {extra_result_list[i]}")
    print(f"相基+相五行+宫位神: {results['相基的70%+相五行的30%']:.1f}")
    
    # 更新采相信息
    prev_yearshus = yearshus
    prev_dayshus = dayshus
    yearshus = days.getYearGZ()
    mouthshus = days.getMonthGZ()
    dayshus = days.getDayGZ()